{"ast":null,"code":"import _slicedToArray from \"/var/www/html/midOhio/fresh-trak/sourceCode/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/var/www/html/midOhio/fresh-trak/sourceCode/frontend/src/Modules/Family/FamilyContainer.js\";\n\n/**\n * Created by abhiram on 6/1/20.\n */\nimport React from \"react\";\nimport NameFormComponent from './NameFormComponent';\nimport AddressFormComponent from './AddressFormComponent';\nimport ZipFormComponent from './ZipFormComponent';\nimport ContactNumberFormComponent from './ContactNumberFormComponent';\nimport MemberCountFormComponent from './MemberCountFormComponent';\nimport DobFormComponent from './DobFormComponent';\nimport HousingTypeFormComponent from './HousingTypeFormComponent';\nimport '../../App.css';\nimport { confirm, showMessage } from '../../Utils/Util';\nimport { ajaxPost } from '../../Services/Http/Ajax';\nimport { STATUS_ACTIVE } from '../../Utils/Constants';\nimport { API_URL } from '../../Utils/Urls';\nimport { Jumbotron, Container, Form, Button } from 'react-bootstrap';\nimport MenuComponent from '../General/MenuComponent';\nimport FooterComponent from '../General/FooterComponent';\nimport { ToastContainer } from 'react-toastify';\n\nconst FamilyContainer = () => {\n  let familyData = [];\n  let formError = '';\n\n  const _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        familyArray = _React$useState2[0],\n        setFamilyArray = _React$useState2[1];\n\n  const _React$useState3 = React.useState([]),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        childFamilyData = _React$useState4[0],\n        setChildFamilyData = _React$useState4[1];\n\n  const nameFormRef = React.useRef();\n  const addressFormRef = React.useRef();\n  const zipFormRef = React.useRef();\n  const dobFormRef = React.useRef();\n\n  const handleFormValidation = e => {\n    e.preventDefault();\n    let componentErrors = [];\n    componentErrors.push(nameFormRef.current.triggerErrors(), zipFormRef.current.triggerErrors(), addressFormRef.current.triggerErrors());\n\n    if (componentErrors.includes(true) || Object.keys(formError).length !== 0) {\n      showMessage('error', 'Kindly fix all errors and continue');\n      return false;\n    }\n\n    handleSubmitConfirm();\n  };\n\n  const handleSubmitConfirm = () => {\n    let title = 'Are you sure you want to proceed?';\n    confirm(title, handleSubmit);\n  };\n\n  const handleSubmit = () => {\n    let familyDetails = {\n      familyMemberData: {\n        first_name: familyData.nameData ? familyData.nameData.nameData.first_name : '',\n        last_name: familyData.nameData ? familyData.nameData.nameData.last_name : '',\n        middle_name: familyData.nameData ? familyData.nameData.nameData.middle_name : '',\n        suffix: familyData.nameData ? familyData.nameData.nameData.suffix : '',\n        dob: familyData.dobData ? familyData.dobData.dobData.dob : '',\n        age: familyData.dobData ? familyData.dobData.dobData.age : '',\n        gender: familyData.dobData ? familyData.dobData.dobData.gender : '',\n        primary_contact: familyData.contactData ? familyData.contactData.contactData.primary_number : '',\n        secondary_contact: familyData.contactData ? familyData.contactData.contactData.secondary_number : ''\n      },\n      familyMemberLocationData: {\n        address: familyData.addressData ? familyData.addressData.addressData.street_address : '',\n        apt_number: familyData.addressData ? familyData.addressData.addressData.apt_no : '',\n        zipcode: familyData.zipData ? familyData.zipData.zipData.zip_code : '',\n        housing_type: familyData.housingData ? familyData.housingData.housingData.housing_type : ''\n      }\n    };\n\n    if (familyDetails) {\n      let uri = API_URL.CREATE_FAMILY_URL;\n      ajaxPost(uri, familyDetails, response => {\n        if (response.status === STATUS_ACTIVE) {\n          showMessage('success', 'Family added successfully');\n        }\n      });\n    } else {\n      showMessage('error', 'Something went wrong');\n    }\n  };\n\n  const buildFamilyData = childFamilyData => {\n    let dataKey = Object.keys(childFamilyData)[0];\n    familyData[dataKey] = childFamilyData;\n  };\n\n  const formErrors = errors => {\n    formError = errors;\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(MenuComponent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(ToastContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(Jumbotron, {\n    fluid: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Add Family\"), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \" Fill out this form to add families to FreshTrak .\"))), React.createElement(\"form\", {\n    onSubmit: handleFormValidation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(Form.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(ToastContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(NameFormComponent, {\n    ref: nameFormRef,\n    onSelectedChild: buildFamilyData,\n    onFormErrors: formErrors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(AddressFormComponent, {\n    ref: addressFormRef,\n    onSelectedChild: buildFamilyData,\n    onFormErrors: formErrors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(HousingTypeFormComponent, {\n    onSelectedChild: buildFamilyData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(ZipFormComponent, {\n    ref: zipFormRef,\n    onSelectedChild: buildFamilyData,\n    onFormErrors: formErrors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(ContactNumberFormComponent, {\n    onSelectedChild: buildFamilyData,\n    onFormErrors: formErrors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(DobFormComponent, {\n    onSelectedChild: buildFamilyData,\n    onFormErrors: formErrors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(MemberCountFormComponent, {\n    onSelectedChild: buildFamilyData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  })), React.createElement(Jumbotron, {\n    fluid: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"Submit\"))))), React.createElement(FooterComponent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }));\n};\n\nexport default FamilyContainer;","map":{"version":3,"sources":["/var/www/html/midOhio/fresh-trak/sourceCode/frontend/src/Modules/Family/FamilyContainer.js"],"names":["React","NameFormComponent","AddressFormComponent","ZipFormComponent","ContactNumberFormComponent","MemberCountFormComponent","DobFormComponent","HousingTypeFormComponent","confirm","showMessage","ajaxPost","STATUS_ACTIVE","API_URL","Jumbotron","Container","Form","Button","MenuComponent","FooterComponent","ToastContainer","FamilyContainer","familyData","formError","useState","familyArray","setFamilyArray","childFamilyData","setChildFamilyData","nameFormRef","useRef","addressFormRef","zipFormRef","dobFormRef","handleFormValidation","e","preventDefault","componentErrors","push","current","triggerErrors","includes","Object","keys","length","handleSubmitConfirm","title","handleSubmit","familyDetails","familyMemberData","first_name","nameData","last_name","middle_name","suffix","dob","dobData","age","gender","primary_contact","contactData","primary_number","secondary_contact","secondary_number","familyMemberLocationData","address","addressData","street_address","apt_number","apt_no","zipcode","zipData","zip_code","housing_type","housingData","uri","CREATE_FAMILY_URL","response","status","buildFamilyData","dataKey","formErrors","errors"],"mappings":"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","sourcesContent":["/**\n * Created by abhiram on 6/1/20.\n */\nimport React from \"react\";\nimport NameFormComponent from './NameFormComponent';\nimport AddressFormComponent from './AddressFormComponent';\nimport ZipFormComponent from './ZipFormComponent';\nimport ContactNumberFormComponent from './ContactNumberFormComponent';\nimport MemberCountFormComponent from './MemberCountFormComponent';\nimport DobFormComponent from './DobFormComponent';\nimport HousingTypeFormComponent from './HousingTypeFormComponent';\nimport '../../App.css';\nimport {confirm, showMessage} from '../../Utils/Util';\nimport {ajaxPost} from '../../Services/Http/Ajax';\nimport {STATUS_ACTIVE} from '../../Utils/Constants';\nimport {API_URL} from '../../Utils/Urls';\nimport {Jumbotron, Container, Form, Button} from 'react-bootstrap';\nimport MenuComponent from '../General/MenuComponent';\nimport FooterComponent from '../General/FooterComponent';\nimport {ToastContainer} from 'react-toastify';\n\nconst FamilyContainer = () => {\n    let familyData = [];\n    let formError = '';\n    const [familyArray, setFamilyArray] = React.useState([]);\n    const [childFamilyData, setChildFamilyData] = React.useState([]);\n\n    const nameFormRef = React.useRef();\n    const addressFormRef = React.useRef();\n    const zipFormRef = React.useRef();\n    const dobFormRef = React.useRef();\n\n\n\n    const handleFormValidation = (e) => {\n        e.preventDefault();\n        let componentErrors = [];\n        componentErrors.push(\n            nameFormRef.current.triggerErrors(),\n            zipFormRef.current.triggerErrors(),\n            addressFormRef.current.triggerErrors());\n\n        if( componentErrors.includes(true) || Object.keys(formError).length !== 0){\n            showMessage('error', 'Kindly fix all errors and continue');\n            return false;\n        }\n\n        handleSubmitConfirm();\n    };\n\n    const handleSubmitConfirm = () => {\n        let title = 'Are you sure you want to proceed?';\n        confirm(title, handleSubmit);\n    };\n\n\n    const handleSubmit = () => {\n        let familyDetails = {\n            familyMemberData: {\n                first_name: familyData.nameData ? familyData.nameData.nameData.first_name : '',\n                last_name: familyData.nameData ? familyData.nameData.nameData.last_name : '',\n                middle_name: familyData.nameData ? familyData.nameData.nameData.middle_name : '',\n                suffix: familyData.nameData ? familyData.nameData.nameData.suffix : '',\n                dob: familyData.dobData ? familyData.dobData.dobData.dob : '',\n                age: familyData.dobData ? familyData.dobData.dobData.age : '',\n                gender: familyData.dobData ? familyData.dobData.dobData.gender : '',\n                primary_contact: familyData.contactData ? familyData.contactData.contactData.primary_number : '',\n                secondary_contact: familyData.contactData ? familyData.contactData.contactData.secondary_number : '',\n            },\n\n            familyMemberLocationData:{\n                address: familyData.addressData ? familyData.addressData.addressData.street_address : '',\n                apt_number: familyData.addressData ? familyData.addressData.addressData.apt_no : '',\n                zipcode: familyData.zipData ? familyData.zipData.zipData.zip_code : '',\n                housing_type: familyData.housingData ? familyData.housingData.housingData.housing_type : '',\n            }\n\n        };\n\n        if(familyDetails) {\n\n            let uri = API_URL.CREATE_FAMILY_URL;\n            ajaxPost(uri, familyDetails, (response) => {\n                if (response.status === STATUS_ACTIVE) {\n                    showMessage('success', 'Family added successfully');\n                }\n            });\n        } else {\n            showMessage('error', 'Something went wrong');\n        }\n\n    };\n\n    const buildFamilyData = (childFamilyData) => {\n        let dataKey = Object.keys(childFamilyData)[0];\n        familyData[dataKey] = childFamilyData;\n    };\n\n    const formErrors = (errors) => {\n        formError = errors;\n    };\n\n    return (\n        <div>\n            <MenuComponent/>\n            <ToastContainer/>\n            <Jumbotron fluid>\n                <Container>\n                    <h1>Add Family</h1>\n                    <h5> Fill out this form to add families to FreshTrak .</h5>\n                </Container>\n            </Jumbotron>\n            <form onSubmit={handleFormValidation}>\n                <Form.Group>\n                    <ToastContainer/>\n                    <div className=\"container\">\n                        <NameFormComponent ref={nameFormRef}\n                                           onSelectedChild = {buildFamilyData}\n                                           onFormErrors = {formErrors} />\n                    </div>\n                    <div className=\"container\">\n                        <AddressFormComponent ref={addressFormRef}\n                                              onSelectedChild = {buildFamilyData}\n                                              onFormErrors = {formErrors} />\n                    </div>\n                    <div className=\"container\">\n                        <HousingTypeFormComponent onSelectedChild = {buildFamilyData}/>\n                    </div>\n                    <div className=\"container\">\n                        <ZipFormComponent ref={zipFormRef}\n                                          onSelectedChild = {buildFamilyData}\n                                          onFormErrors = {formErrors} />\n                    </div>\n                    <div className=\"container\">\n                        <ContactNumberFormComponent  onSelectedChild = {buildFamilyData}\n\n                                                    onFormErrors = {formErrors} />\n                    </div>\n                    <div className=\"container\">\n                        <DobFormComponent onSelectedChild = {buildFamilyData}\n\n                                          onFormErrors = {formErrors} />\n                    </div>\n                    <div className=\"container\">\n                        <MemberCountFormComponent onSelectedChild = {buildFamilyData} />\n                    </div>\n                    <Jumbotron fluid>\n                        <Container>\n                            <Button type=\"submit\" variant=\"primary\">Submit</Button>\n                        </Container>\n                    </Jumbotron>\n                </Form.Group>\n            </form>\n            <FooterComponent/>\n        </div>\n    )\n};\n\nexport default FamilyContainer;\n"]},"metadata":{},"sourceType":"module"}