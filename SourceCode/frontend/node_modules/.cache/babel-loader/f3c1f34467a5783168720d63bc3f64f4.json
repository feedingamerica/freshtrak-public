{"ast":null,"code":"import _slicedToArray from \"/var/www/html/midOhio/fresh-trak/sourceCode/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/var/www/html/midOhio/fresh-trak/sourceCode/frontend/src/Modules/Agency/AgencyDetailsComponent.js\";\n\n/**\n * Created by kripa on 27/2/20.\n */\nimport React, { useState, useEffect } from 'react';\nimport 'react-bootstrap';\nimport ImageUploadComponent from './ImageUploadComponent';\nimport { Redirect } from 'react-router-dom';\nimport { Form } from 'react-bootstrap';\nimport '../../App.css';\nimport { ToastContainer } from \"react-toastify\";\nimport useForm from '../../Utils/UseForm';\nconst AgencyDetailsComponent = React.forwardRef((props, ref) => {\n  let agencyData = '';\n  let formError = '';\n\n  let _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      childAgencyData = _useState2[0],\n      setChildAgencyData = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        esign = _useState4[0],\n        setSign = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        data = _useState6[0],\n        setData = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        name = _useState8[0],\n        setName = _useState8[1];\n\n  const _useState9 = useState(''),\n        _useState10 = _slicedToArray(_useState9, 2),\n        nickname = _useState10[0],\n        setNickname = _useState10[1];\n\n  const _useState11 = useState(''),\n        _useState12 = _slicedToArray(_useState11, 2),\n        status_id = _useState12[0],\n        setStatus_id = _useState12[1];\n\n  const _useState13 = useState(''),\n        _useState14 = _slicedToArray(_useState13, 2),\n        address1 = _useState14[0],\n        setAddress1 = _useState14[1];\n\n  const _useState15 = useState(''),\n        _useState16 = _slicedToArray(_useState15, 2),\n        address2 = _useState16[0],\n        setAddress2 = _useState16[1];\n\n  const _useState17 = useState(''),\n        _useState18 = _slicedToArray(_useState17, 2),\n        logo = _useState18[0],\n        setLogo = _useState18[1];\n\n  const _useState19 = useState(''),\n        _useState20 = _slicedToArray(_useState19, 2),\n        logoName = _useState20[0],\n        setLogoName = _useState20[1];\n\n  const _useState21 = useState(''),\n        _useState22 = _slicedToArray(_useState21, 2),\n        logoType = _useState22[0],\n        setLogoType = _useState22[1];\n\n  const _useState23 = useState(''),\n        _useState24 = _slicedToArray(_useState23, 2),\n        notes = _useState24[0],\n        setNotes = _useState24[1];\n\n  const _useState25 = useState(props.propsDataOfParent.location.state),\n        _useState26 = _slicedToArray(_useState25, 2),\n        id = _useState26[0],\n        setId = _useState26[1];\n\n  let isAgencyUpdate = !!props.propsDataOfParent.location.state;\n  let buttonLabel = isAgencyUpdate ? 'Update' : 'Register';\n\n  const _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        childFamilyData = _React$useState2[0],\n        setChildFamilyData = _React$useState2[1];\n\n  const imageFormRef = React.useRef();\n  let name_form,\n      nickname_form,\n      esign_form,\n      data_form,\n      address1_form,\n      address2_form,\n      logo_form,\n      notes_form,\n      logoName_form,\n      logoType_form = '';\n  useEffect(() => {\n    if (isAgencyUpdate) {\n      setChildAgencyData(props.agencyDataFromParent);\n      name_form = props.agencyDataFromParent ? props.agencyDataFromParent.name : '';\n      nickname_form = props.agencyDataFromParent ? props.agencyDataFromParent.nickname : '';\n      address1_form = props.agencyDataFromParent ? props.agencyDataFromParent.address1 : '';\n      address2_form = props.agencyDataFromParent ? props.agencyDataFromParent.address2 : '';\n      data_form = props.agencyDataFromParent ? props.agencyDataFromParent.data : '';\n      esign_form = props.agencyDataFromParent ? props.agencyDataFromParent.esign : '';\n      logo_form = props.agencyDataFromParent ? props.agencyDataFromParent.logo : '';\n      notes_form = props.agencyDataFromParent ? props.agencyDataFromParent.notes : '';\n      logoName_form = props.agencyDataFromParent ? props.agencyDataFromParent.logoName : '';\n      logoType_form = props.agencyDataFromParent ? props.agencyDataFromParent.logoType : '';\n    }\n  }, [props.agencyDataFromParent]);\n  useEffect(() => {\n    if (name_form) {\n      // name_form = (childAgencyData.name);\n      setName(name_form);\n      setNickname(nickname_form);\n      setSign(esign_form);\n      setData(data_form);\n      setAddress1(address1_form);\n      setAddress2(address2_form);\n      setLogo(logo_form);\n      setNotes(notes_form);\n      setLogoName(logoName_form);\n      setLogoType(logoType_form);\n    }\n  }, [props.agencyDataFromParent]);\n  useEffect(() => {\n    handleChange();\n  }, [name, nickname, address1, address2, esign, data, notes, logo, logoName, logoType]);\n\n  const buildImageData = (e, file, fileType) => {\n    setLogo(e);\n    setLogoName(file.name);\n    fileType = fileType.substring(fileType.indexOf(\"/\") + 1);\n    setLogoType(fileType);\n  };\n\n  const handleChange = () => {\n    agencyData = {\n      agencyDetailsData: {\n        name: name,\n        nickname: nickname,\n        address1: address1,\n        address2: address2,\n        esign: esign,\n        data: data,\n        logo: logo,\n        logoName: logoName,\n        logoType: logoType,\n        notes: notes\n      }\n    };\n    props.agencyDataFromChild(agencyData);\n  };\n\n  const buildAgencyData = e => {\n    // e.preventDefault();\n    let name = e.target.name;\n\n    switch (name) {\n      case 'name':\n        setName(e.target.value);\n        childAgencyData.name = e.target.value;\n        break;\n\n      case 'nickname':\n        setNickname(e.target.value);\n        childAgencyData.nickname = e.target.value;\n        break;\n\n      case 'address1':\n        setAddress1(e.target.value);\n        childAgencyData.address1 = e.target.value;\n        break;\n\n      case 'address2':\n        setAddress2(e.target.value);\n        childAgencyData.address2 = e.target.value;\n        break;\n\n      case 'esign':\n        setSign(e.target.checked);\n        childAgencyData.esign = e.target.value;\n        break;\n\n      case 'data':\n        setData(e.target.checked);\n        childAgencyData.data = e.target.value;\n        break;\n\n      case 'notes':\n        setNotes(e.target.value);\n        childAgencyData.notes = e.target.value;\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const _useForm = useForm(props, {\n    'name': ['required', 'min:5', 'max:20'],\n    'nickname': ['required'],\n    'address1': ['required', 'is_address']\n  }, handleChange),\n        errors = _useForm.errors,\n        handleErrors = _useForm.handleErrors;\n\n  React.useImperativeHandle(ref, () => ({\n    triggerErrors() {\n      handleChange();\n      return handleErrors(agencyData.agencyDetailsData);\n    }\n\n  }));\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(ToastContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"legend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    className: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, buttonLabel)), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"control-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Organization name\"), React.createElement(\"div\", {\n    className: \"controls\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    onChange: buildAgencyData,\n    value: name,\n    onBlur: handleErrors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), errors.name && React.createElement(\"span\", {\n    className: \"validationError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, errors.name))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"control-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, \"Organization nick name\"), React.createElement(\"div\", {\n    className: \"controls\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    id: \"nickname\",\n    name: \"nickname\",\n    onChange: buildAgencyData,\n    value: nickname,\n    onBlur: handleErrors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }), errors.nickname && React.createElement(\"span\", {\n    className: \"validationError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, errors.nickname))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"control-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, \"Address 1\"), React.createElement(\"div\", {\n    className: \"controls\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    id: \"address1\",\n    name: \"address1\",\n    onChange: buildAgencyData,\n    value: address1,\n    onBlur: handleErrors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), errors.address1 && React.createElement(\"span\", {\n    className: \"validationError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, errors.address1))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"control-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, \"Address 2\"), React.createElement(\"div\", {\n    className: \"controls\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    id: \"address2\",\n    name: \"address2\",\n    onChange: buildAgencyData,\n    value: address2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"control-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, \"eSign\"), React.createElement(\"div\", {\n    className: \"controls\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(Form.Check, {\n    type: \"checkbox\",\n    name: \"esign\",\n    checked: esign,\n    onChange: buildAgencyData,\n    value: esign,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"control-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, \"data\"), React.createElement(\"div\", {\n    className: \"controls\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, React.createElement(Form.Check, {\n    type: \"checkbox\",\n    name: \"data\",\n    checked: data,\n    onChange: buildAgencyData,\n    value: data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, React.createElement(ImageUploadComponent, {\n    ref: imageFormRef,\n    onSelectedImage: buildImageData,\n    imageDataFromParent: logo,\n    isUpdateDataFromParent: isAgencyUpdate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"control-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, \"Notes\"), React.createElement(\"div\", {\n    className: \"controls\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    id: \"notes\",\n    name: \"notes\",\n    onChange: buildAgencyData,\n    value: notes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group help-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"controls\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, buttonLabel))))));\n});\nexport default AgencyDetailsComponent;","map":{"version":3,"sources":["/var/www/html/midOhio/fresh-trak/sourceCode/frontend/src/Modules/Agency/AgencyDetailsComponent.js"],"names":["React","useState","useEffect","ImageUploadComponent","Redirect","Form","ToastContainer","useForm","AgencyDetailsComponent","forwardRef","props","ref","agencyData","formError","childAgencyData","setChildAgencyData","esign","setSign","data","setData","name","setName","nickname","setNickname","status_id","setStatus_id","address1","setAddress1","address2","setAddress2","logo","setLogo","logoName","setLogoName","logoType","setLogoType","notes","setNotes","propsDataOfParent","location","state","id","setId","isAgencyUpdate","buttonLabel","childFamilyData","setChildFamilyData","imageFormRef","useRef","name_form","nickname_form","esign_form","data_form","address1_form","address2_form","logo_form","notes_form","logoName_form","logoType_form","agencyDataFromParent","handleChange","buildImageData","e","file","fileType","substring","indexOf","agencyDetailsData","agencyDataFromChild","buildAgencyData","target","value","checked","errors","handleErrors","useImperativeHandle","triggerErrors"],"mappings":"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","sourcesContent":["/**\n * Created by kripa on 27/2/20.\n */\nimport React,{useState,useEffect} from 'react'\nimport 'react-bootstrap'\nimport ImageUploadComponent from './ImageUploadComponent'\nimport {Redirect} from 'react-router-dom';\nimport {Form} from 'react-bootstrap'\nimport '../../App.css';\nimport {ToastContainer} from \"react-toastify\";\nimport useForm from '../../Utils/UseForm';\n\nconst AgencyDetailsComponent = React.forwardRef((props, ref) => {\n\n    let agencyData='';\n    let formError = '';\n    let [childAgencyData,setChildAgencyData] = useState({});\n    const [esign,setSign] = useState(false);\n    const [data,setData] = useState(false);\n    const [name,setName] = useState('');\n    const [nickname,setNickname] = useState('');\n    const [status_id,setStatus_id] = useState('');\n    const [address1,setAddress1] = useState('');\n    const [address2,setAddress2] = useState('');\n    const [logo,setLogo] = useState('');\n    const [logoName,setLogoName] = useState('');\n    const [logoType,setLogoType] = useState('');\n    const [notes,setNotes] = useState('');\n    const [id, setId] = useState(props.propsDataOfParent.location.state);\n    let isAgencyUpdate = !!props.propsDataOfParent.location.state;\n    let buttonLabel = isAgencyUpdate ? 'Update' : 'Register';\n\n    const [childFamilyData, setChildFamilyData] = React.useState([]);\n    const imageFormRef = React.useRef();\n\n    let name_form,nickname_form,esign_form,data_form,address1_form,address2_form,logo_form,notes_form,logoName_form,logoType_form = '';\n\n    useEffect(() => {\n        if (isAgencyUpdate){\n            setChildAgencyData(props.agencyDataFromParent);\n            name_form=props.agencyDataFromParent?props.agencyDataFromParent.name:'';\n            nickname_form=props.agencyDataFromParent?props.agencyDataFromParent.nickname:'';\n            address1_form=props.agencyDataFromParent?props.agencyDataFromParent.address1:'';\n            address2_form=props.agencyDataFromParent?props.agencyDataFromParent.address2:'';\n            data_form=props.agencyDataFromParent?props.agencyDataFromParent.data:'';\n            esign_form=props.agencyDataFromParent?props.agencyDataFromParent.esign:'';\n            logo_form=props.agencyDataFromParent?props.agencyDataFromParent.logo:'';\n            notes_form=props.agencyDataFromParent?props.agencyDataFromParent.notes:'';\n            logoName_form = props.agencyDataFromParent?props.agencyDataFromParent.logoName:'';\n            logoType_form = props.agencyDataFromParent?props.agencyDataFromParent.logoType:'';\n        }\n    }, [props.agencyDataFromParent]);\n\n\n    useEffect(() => {\n        if (name_form) {\n            // name_form = (childAgencyData.name);\n            setName(name_form);\n            setNickname(nickname_form);\n            setSign(esign_form);\n            setData(data_form);\n            setAddress1(address1_form);\n            setAddress2(address2_form);\n            setLogo(logo_form);\n            setNotes(notes_form);\n            setLogoName(logoName_form);\n            setLogoType(logoType_form);\n        }\n    },[props.agencyDataFromParent]);\n\n    useEffect(() => {\n        handleChange();\n    },[name,nickname,address1,address2,esign,data,notes,logo, logoName, logoType]);\n\n\n    const buildImageData = (e,file,fileType) => {\n        setLogo(e);\n        setLogoName(file.name);\n        fileType = fileType.substring(fileType.indexOf(\"/\") + 1);\n        setLogoType(fileType);\n    };\n\n    const handleChange = () => {\n        agencyData = {\n                agencyDetailsData : {\n                    name: name,\n                    nickname: nickname,\n                    address1: address1,\n                    address2: address2,\n                    esign: esign,\n                    data: data,\n                    logo: logo,\n                    logoName: logoName,\n                    logoType: logoType,\n                    notes: notes,\n                }\n\n            };\n        props.agencyDataFromChild(agencyData);\n    };\n\n    const buildAgencyData = (e) => {\n        // e.preventDefault();\n        let name = e.target.name;\n        switch (name) {\n            case 'name':\n                setName(e.target.value);\n                childAgencyData.name = e.target.value;\n                break;\n            case 'nickname':\n                setNickname(e.target.value);\n                childAgencyData.nickname = e.target.value;\n                break;\n            case 'address1':\n                setAddress1(e.target.value);\n                childAgencyData.address1 = e.target.value;\n                break;\n            case 'address2':\n                setAddress2(e.target.value);\n                childAgencyData.address2 = e.target.value;\n                break;\n            case 'esign':\n                setSign(e.target.checked);\n                childAgencyData.esign = e.target.value;\n                break;\n            case 'data':\n                setData(e.target.checked);\n                childAgencyData.data = e.target.value;\n                break;\n            case 'notes':\n                setNotes(e.target.value);\n                childAgencyData.notes = e.target.value;\n                break;\n            default:\n                break;\n        }\n    };\n\n\n    const { errors, handleErrors } =\n        useForm(props, {\n            'name' : ['required', 'min:5', 'max:20'],\n            'nickname' : ['required'],\n            'address1' : ['required', 'is_address'],\n        }, handleChange);\n\n    React.useImperativeHandle(ref, () => ({\n        triggerErrors(){\n            handleChange();\n            return handleErrors(agencyData.agencyDetailsData);\n        }\n    }));\n\n    return (\n        <div>\n            <ToastContainer/>\n            <div className=\"container\">\n                    <fieldset>\n                        <div id=\"legend\">\n                            <legend className=\"\">{buttonLabel}</legend>\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"control-label\">Organization name</label>\n                            <div className=\"controls\">\n                                <input type=\"text\" id=\"name\" name=\"name\" onChange={buildAgencyData} value={name} onBlur={handleErrors}/>\n\n                                {errors.name && (\n                                    <span className=\"validationError\">{errors.name}</span>\n                                )}\n\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"control-label\">Organization nick name</label>\n                            <div className=\"controls\">\n                                <input type=\"text\" id=\"nickname\" name=\"nickname\" onChange={buildAgencyData} value={nickname} onBlur={handleErrors}/>\n                                {errors.nickname && (\n                                    <span className=\"validationError\">{errors.nickname}</span>\n                                )}\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"control-label\">Address 1</label>\n                            <div className=\"controls\">\n                                <input type=\"text\" id=\"address1\" name=\"address1\" onChange={buildAgencyData}  value={address1} onBlur={handleErrors}/>\n                                {errors.address1 && (\n                                    <span className=\"validationError\">{errors.address1}</span>\n                                )}\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"control-label\">Address 2</label>\n                            <div className=\"controls\">\n                                <input type=\"text\" id=\"address2\" name=\"address2\" onChange={buildAgencyData} value={address2}/>\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"control-label\">eSign</label>\n                            <div className=\"controls\">\n                                <Form.Check type=\"checkbox\" name=\"esign\" checked={esign} onChange = {buildAgencyData} value={esign}/>\n                            </div>\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"control-label\">data</label>\n                            <div className=\"controls\">\n                                <Form.Check type=\"checkbox\" name=\"data\" checked={data} onChange = {buildAgencyData} value={data}/>\n                            </div>\n                        </div>\n                        <div>\n                            <ImageUploadComponent ref={imageFormRef}\n                                                  onSelectedImage={buildImageData}\n                                                  imageDataFromParent = {logo}\n                                                  isUpdateDataFromParent = {isAgencyUpdate}\n                                                  />\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"control-label\">Notes</label>\n                            <div className=\"controls\">\n                                <input type=\"text\" id=\"notes\" name=\"notes\" onChange={buildAgencyData} value={notes}/>\n                            </div>\n                        </div>\n                        <div className=\"form-group help-block\">\n                            <div className=\"controls\">\n                                <button type=\"submit\" className=\"btn btn-success\">{buttonLabel}</button>\n                            </div>\n                        </div>\n                    </fieldset>\n            </div>\n        </div>\n    )\n});\n\nexport default AgencyDetailsComponent"]},"metadata":{},"sourceType":"module"}