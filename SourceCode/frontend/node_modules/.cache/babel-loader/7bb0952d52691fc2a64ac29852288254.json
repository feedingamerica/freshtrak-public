{"ast":null,"code":"import _slicedToArray from \"/var/www/html/midOhio/fresh-trak/sourceCode/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/var/www/html/midOhio/fresh-trak/sourceCode/frontend/src/Modules/Login/LoginComponent.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { validateEmail, validatePassword } from '../../Utils/FormValidation';\nimport { setItemToLocalStorage, showMessage } from '../../Utils/Util';\nimport { ajaxPost } from '../../Services/Http/Ajax';\nimport { STATUS_ACTIVE, MESSAGES } from '../../Utils/Constants';\nimport { API_URL } from '../../Utils/Urls';\nimport { ToastContainer } from 'react-toastify';\nlet isEmailValid = false;\nlet isPasswordValid = false;\n\nconst LoginComponent = () => {\n  const _React$useState = React.useState(''),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        email = _React$useState2[0],\n        setEmail = _React$useState2[1];\n\n  const _React$useState3 = React.useState(''),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        password = _React$useState4[0],\n        setPassword = _React$useState4[1];\n\n  const _React$useState5 = React.useState(false),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        isLoginSuccess = _React$useState6[0],\n        setIsLoginSuccess = _React$useState6[1];\n\n  const _React$useState7 = React.useState(''),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        emailError = _React$useState8[0],\n        setEmailError = _React$useState8[1];\n\n  const _React$useState9 = React.useState(''),\n        _React$useState10 = _slicedToArray(_React$useState9, 2),\n        passwordError = _React$useState10[0],\n        setPasswordError = _React$useState10[1];\n\n  const handleChange = event => {\n    event.preventDefault();\n    let name = event.target.name;\n\n    switch (name) {\n      case 'email':\n        setEmail(event.target.value);\n        let emailErrorValue = validateEmail(event.target.value) ? isEmailValid = true : 'Please enter a valid email';\n        setEmailError(emailErrorValue);\n        break;\n\n      case 'password':\n        setPassword(event.target.value);\n        let passwordErrorValue = validatePassword(event.target.value) ? isPasswordValid = true : 'Please enter the password';\n        setPasswordError(passwordErrorValue);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let loginDetails = {\n      email: email,\n      password: password\n    };\n\n    if (isEmailValid && isPasswordValid) {\n      let uri = API_URL.LOGIN_URL;\n      ajaxPost(uri, loginDetails, response => {\n        if (response.status === STATUS_ACTIVE) {\n          setItemToLocalStorage('menu_permission', response.content.menu_permission);\n          setItemToLocalStorage('token', response.content.token.token);\n          setIsLoginSuccess(true);\n        }\n      });\n    } else {\n      showMessage('error', MESSAGES.SOMETHING_WENT_WRONG);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, isLoginSuccess && React.createElement(Redirect, {\n    to: '/dashboard',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(ToastContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"CommentBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Email: \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    onBlur: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"validationError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, emailError)))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \" Password: \"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onBlur: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"validationError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, passwordError)))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Login\"))));\n};\n\nexport default LoginComponent;","map":{"version":3,"sources":["/var/www/html/midOhio/fresh-trak/sourceCode/frontend/src/Modules/Login/LoginComponent.js"],"names":["React","Redirect","validateEmail","validatePassword","setItemToLocalStorage","showMessage","ajaxPost","STATUS_ACTIVE","MESSAGES","API_URL","ToastContainer","isEmailValid","isPasswordValid","LoginComponent","useState","email","setEmail","password","setPassword","isLoginSuccess","setIsLoginSuccess","emailError","setEmailError","passwordError","setPasswordError","handleChange","event","preventDefault","name","target","value","emailErrorValue","passwordErrorValue","handleSubmit","e","loginDetails","uri","LOGIN_URL","response","status","content","menu_permission","token","SOMETHING_WENT_WRONG"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Redirect} from 'react-router-dom';\nimport {validateEmail, validatePassword} from '../../Utils/FormValidation';\nimport {setItemToLocalStorage, showMessage} from '../../Utils/Util';\nimport {ajaxPost} from '../../Services/Http/Ajax';\nimport {STATUS_ACTIVE, MESSAGES} from '../../Utils/Constants';\nimport {API_URL} from '../../Utils/Urls';\nimport {ToastContainer} from 'react-toastify';\nlet isEmailValid = false; let isPasswordValid = false;\n\nconst LoginComponent = () => {\n\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [isLoginSuccess, setIsLoginSuccess] = React.useState(false);\n    const [emailError, setEmailError] = React.useState('');\n    const [passwordError, setPasswordError] = React.useState('');\n\n    const handleChange = (event) => {\n        event.preventDefault();\n        let name = event.target.name;\n        switch (name) {\n            case 'email':\n                setEmail(event.target.value);\n                let emailErrorValue = validateEmail(event.target.value) ? isEmailValid = true : 'Please enter a valid email';\n                setEmailError(emailErrorValue);\n                break;\n            case 'password':\n                setPassword(event.target.value);\n                let passwordErrorValue = validatePassword(event.target.value) ? isPasswordValid = true : 'Please enter the password';\n                setPasswordError(passwordErrorValue);\n                break;\n            default:\n                break;\n        }\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        let loginDetails = {\n            email: email,\n            password: password,\n        };\n        if (isEmailValid && isPasswordValid) {\n            let uri = API_URL.LOGIN_URL;\n            ajaxPost(uri, loginDetails, (response) => {\n                if (response.status === STATUS_ACTIVE) {\n                    setItemToLocalStorage('menu_permission', response.content.menu_permission);\n                    setItemToLocalStorage('token', response.content.token.token);\n                    setIsLoginSuccess(true);\n                }\n            });\n        } else {\n            showMessage('error', MESSAGES.SOMETHING_WENT_WRONG);\n        }\n    };\n\n    return (\n        <div>\n            {isLoginSuccess && (<Redirect to={'/dashboard'}/>)}\n            <ToastContainer/>\n            <h3>Login</h3>\n            <form onSubmit={handleSubmit}>\n                <div className=\"row\">\n                    <div className=\"col-md-6\">\n                        <div className=\"CommentBox\">\n                            <label className=\"label-login\">Email: </label>\n                            <input type=\"text\" name='email' onBlur={handleChange}/>\n                            {<span className='validationError'>{emailError}</span>}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-md-6\">\n                        <div className=\"form-group\">\n                            <label className=\"label-login\"> Password: </label>\n                            <input type=\"password\" name=\"password\" onBlur={handleChange}/>\n                            {<span className='validationError'>{passwordError}</span>}\n                        </div>\n                    </div>\n                </div>\n                <br />\n                <div className=\"form-group\">\n                    <button className=\"btn btn-primary\">Login</button>\n                </div>\n            </form>\n        </div>\n    )\n};\n\nexport default LoginComponent;"]},"metadata":{},"sourceType":"module"}