{"ast":null,"code":"import _slicedToArray from \"/var/www/html/midOhio/fresh-trak/sourceCode/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/var/www/html/midOhio/fresh-trak/sourceCode/frontend/src/Modules/Agency/AgencyListComponent.js\";\nimport React, { useEffect, useState } from 'react';\nimport { API_URL, RENDER_URL } from \"../../Utils/Urls\";\nimport { STATUS_ACTIVE } from '../../Utils/Constants';\nimport { ajaxGet, ajaxDestroy } from \"../../Services/Http/Ajax\";\nimport '../../App.css';\nimport { Link } from \"react-router-dom\";\nimport { showMessage, confirm } from '../../Utils/Util';\nimport { ToastContainer } from 'react-toastify';\n\nconst AgencyListComponent = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        agencyList = _useState2[0],\n        setAgencyList = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isAgencyDelete = _useState4[0],\n        setIsAgencyDelete = _useState4[1];\n\n  useEffect(() => {\n    let agencyData;\n    let uri = API_URL.GET_AGENCY_LIST_URL;\n    ajaxGet(uri, response => {\n      if (response.status === STATUS_ACTIVE) {\n        agencyData = response.content;\n        let agencyArray = agencyData.map(name => {\n          return name;\n        });\n        setAgencyList(agencyArray);\n      }\n    });\n  }, [isAgencyDelete]);\n\n  const deleteAgencyConfirm = e => {\n    e.preventDefault();\n    let title = 'Are you sure you want to delete the Agency?';\n    let agencyId = e.target.value;\n    confirm(title, deleteAgency, agencyId);\n  };\n\n  const deleteAgency = (confirm, agencyId) => {\n    let uri = API_URL.EDITED_URL + '/' + agencyId;\n    ajaxDestroy(uri, response => {\n      if (response.status === STATUS_ACTIVE) {\n        setIsAgencyDelete(!isAgencyDelete);\n        showMessage('success', response.message);\n      } else {\n        showMessage('error', response.message);\n      }\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(ToastContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Agency list \"), React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table table-striped table-responsive-md btn-table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Agency\"), React.createElement(\"th\", {\n    colSpan: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Action\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, agencyList.map((value, index) => {\n    let editUrl = '/agency/' + value.id + '/update';\n    let agencyId = value.id;\n    return React.createElement(\"tr\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, value.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"btn btn-secondary btn-sm m-0\",\n      to: {\n        pathname: editUrl,\n        state: {\n          agencyId: agencyId\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Edit\"), \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-secondary btn-sm m-0\",\n      value: agencyId,\n      onClick: deleteAgencyConfirm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Delete\")));\n  }))))));\n};\n\nexport default AgencyListComponent;","map":{"version":3,"sources":["/var/www/html/midOhio/fresh-trak/sourceCode/frontend/src/Modules/Agency/AgencyListComponent.js"],"names":["React","useEffect","useState","API_URL","RENDER_URL","STATUS_ACTIVE","ajaxGet","ajaxDestroy","Link","showMessage","confirm","ToastContainer","AgencyListComponent","agencyList","setAgencyList","isAgencyDelete","setIsAgencyDelete","agencyData","uri","GET_AGENCY_LIST_URL","response","status","content","agencyArray","map","name","deleteAgencyConfirm","e","preventDefault","title","agencyId","target","value","deleteAgency","EDITED_URL","message","index","editUrl","id","pathname","state"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from 'react'\nimport {API_URL, RENDER_URL} from \"../../Utils/Urls\";\nimport {STATUS_ACTIVE}  from '../../Utils/Constants';\nimport {ajaxGet,ajaxDestroy} from \"../../Services/Http/Ajax\";\nimport '../../App.css';\nimport {Link} from \"react-router-dom\";\nimport {showMessage, confirm} from '../../Utils/Util';\nimport {ToastContainer} from 'react-toastify';\n\nconst AgencyListComponent = () => {\n\n    const [agencyList,setAgencyList] = useState([]);\n    const [isAgencyDelete,setIsAgencyDelete] = useState(false);\n\n    useEffect(() => {\n        let agencyData;\n        let uri = API_URL.GET_AGENCY_LIST_URL;\n        ajaxGet(uri, (response) => {\n            if (response.status === STATUS_ACTIVE) {\n                agencyData = response.content;\n\n                let agencyArray = agencyData.map(name => {return(name)\n                });\n                setAgencyList(agencyArray)\n            }\n        })\n    }, [isAgencyDelete]);\n\n    const deleteAgencyConfirm = (e) => {\n        e.preventDefault();\n        let title = 'Are you sure you want to delete the Agency?';\n        let agencyId = e.target.value;\n        confirm(title, deleteAgency, agencyId);\n    };\n\n    const deleteAgency = (confirm,agencyId) => {\n        let uri = API_URL.EDITED_URL + '/' + agencyId;\n        ajaxDestroy(uri, (response) => {\n            if (response.status === STATUS_ACTIVE) {\n                setIsAgencyDelete(!isAgencyDelete);\n                showMessage('success', response.message)\n            }\n            else {\n                showMessage('error', response.message)\n            }\n        })\n    };\n\n    return (\n        <div>\n            <ToastContainer/>\n            <div className=\"container\">\n            <span className=\"btn\">Agency list </span>\n            <div className=\"table-responsive\">\n            <table className=\"table table-striped table-responsive-md btn-table\">\n                <thead>\n                <tr>\n                    <th>Agency</th>\n                    <th colSpan=\"2\">Action</th>\n                </tr>\n                </thead>\n                <tbody>\n                {\n                    agencyList.map((value, index) => {\n                        let editUrl = '/agency/' + value.id + '/update';\n                        let agencyId = value.id;\n                        return (\n                            <tr key={index}>\n                                <td>{value.name}</td>\n                                <td>\n                                    <Link className=\"btn btn-secondary btn-sm m-0\" to={{\n                                        pathname: editUrl,\n                                        state: {\n                                            agencyId: agencyId\n                                        }\n                                    }}>Edit</Link> </td>\n                                <td>\n                                    <button className=\"btn btn-secondary btn-sm m-0\" value={agencyId} onClick={deleteAgencyConfirm}>\n                                        Delete\n                                    </button>\n                                </td>\n                            </tr>\n                        )\n                    }) }\n                </tbody>\n            </table>\n            </div>\n            </div>\n        </div>\n    )\n};\n\nexport default AgencyListComponent;"]},"metadata":{},"sourceType":"module"}